# -----------------------------------------------------------------
# NFVO - Network Function Virtualisation Orchestrator
# -----------------------------------------------------------------
# spring.application.name: Used by Spring Boot for logging, actuator, and (if present)
#   Spring Cloud for service registration (e.g. Eureka). Not a framework requirement—just identity.
spring.application.name=nfvo
# server.port: Port the embedded server (Netty for WebFlux) listens on. Default would be 8080.
server.port=8080

# -----------------------------------------------------------------
# SERVICE DISCOVERY (Module 2) - Custom properties, bound to VnfmServiceDestinations
# -----------------------------------------------------------------
# vnfm.service.url: Bound via @ConfigurationProperties(prefix="vnfm.service") to the
#   "url" field. In production (K8s), "vnfm-service" is the Service name; CoreDNS resolves
#   it to ClusterIP; Kube-Proxy load-balances to Pods. No IP in code.
#   Can be overridden by environment variable VNFM_SERVICE_URL (relaxed binding).
vnfm.service.url=http://vnfm-service

# -----------------------------------------------------------------
# RESILIENCE4J (Module 1) - Circuit breaker instance "vnfm-circuit"
#   Referenced by @CircuitBreaker(name = "vnfm-circuit", ...) in VnfmServiceProxy.
#   Docs: https://resilience4j.readme.io/docs/circuitbreaker
# -----------------------------------------------------------------
# failure-rate-threshold: Percentage of calls that fail (in the window) above which
#   the circuit opens. 50 = open when ≥50% of last N calls failed.
resilience4j.circuitbreaker.instances.vnfm-circuit.failure-rate-threshold=50
# sliding-window-size: Number of calls to consider for the failure rate. 5 = last 5 calls.
resilience4j.circuitbreaker.instances.vnfm-circuit.sliding-window-size=5
# wait-duration-in-open-state: After opening, wait this long before transitioning to
#   HALF_OPEN (one trial call allowed). 5s = give the downstream service time to recover.
resilience4j.circuitbreaker.instances.vnfm-circuit.wait-duration-in-open-state=5s

# -----------------------------------------------------------------
# SPRING BOOT ACTUATOR - Endpoints for health and info
#   management.* properties configure the actuator (production-ready features).
# -----------------------------------------------------------------
# management.endpoints.web.exposure.include: Which endpoints are exposed over HTTP.
#   "health" = /actuator/health (for K8s liveness/readiness); "info" = /actuator/info.
management.endpoints.web.exposure.include=health,info
# management.endpoint.health.show-details: "when-authorized" = show details only if
#   the request is authenticated; "always" would expose component status to anyone.
management.endpoint.health.show-details=when-authorized
